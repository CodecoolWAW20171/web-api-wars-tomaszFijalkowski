<!DOCTYPE html>
<html>
{% include 'head.html' %}

<body>
    <div class="bg-image">
        <header class="text-center">
            <div class="display-4"><span class="branding-1">API</span><span class="branding-2">Wars</span></div>
        </header>
        <div class="container">
            <div class="form-login text-center">
                <nav>
                    <div class="nav nav-tabs nav-justified" id="nav-tab" role="tablist">
                        {% if registration_error %}
                        <a class="nav-item nav-link font-weight-bold" id="nav-login-tab" data-toggle="tab" href="#nav-login" role="tab" aria-controls="nav-login"
                            aria-selected="true">Login</a>
                        {% else %}
                        <a class="nav-item nav-link active font-weight-bold" id="nav-login-tab" data-toggle="tab" href="#nav-login" role="tab" aria-controls="nav-login"
                            aria-selected="true">Login</a>
                        {% endif %}
                        {% if registration_error %}
                        <a class="nav-item nav-link active font-weight-bold" id="nav-register-tab" data-toggle="tab" href="#nav-register" role="tab" aria-controls="nav-register"
                            aria-selected="false">Register</a>
                        {% else %}
                        <a class="nav-item nav-link font-weight-bold" id="nav-register-tab" data-toggle="tab" href="#nav-register" role="tab" aria-controls="nav-register"
                            aria-selected="false">Register</a>
                        {% endif %}
                    </div>
                </nav>
                <div class="tab-content border-bottom border-left border-right p-4" id="nav-tabContent">
                    {% if registration_error %}
                        <div class="tab-pane fade" id="nav-login" role="tabpanel" aria-labelledby="nav-login-tab">
                    {% else %}
                        <div class="tab-pane fade show active" id="nav-login" role="tabpanel" aria-labelledby="nav-login-tab">
                    {% endif %}
                        <form action="{{url_for('login')}}" method="POST">
                            <label for="loginInputUsername" class="sr-only">Username</label>
                            <input type="text" id="loginInputUsername" class="form-control first-input" name="username" placeholder="Username" required autofocus>
                            <label for="loginInputPassword" class="sr-only">Password</label>
                            <input type="password" id="loginInputPassword" class="form-control last-input" name="password" placeholder="Password" required>
                            <div class="checkbox mb-4">
                            <input type="checkbox" name="remember" value="True"> Remember me
                            </div>
                            <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
                        </form>
                    </div>
                    {% if registration_error %}
                        <div class="tab-pane fade show active" id="nav-register" role="tabpanel" aria-labelledby="nav-register-tab">
                    {% else %}
                        <div class="tab-pane fade" id="nav-register" role="tabpanel" aria-labelledby="nav-register-tab">
                    {% endif %}
                        <form action="{{url_for('register')}}" method="POST">
                            <label for="registerInputUsername" class="sr-only">Username</label>
                            <input type="text" id="registerInputUsername" class="form-control first-input" name="username" placeholder="Username" minlength="4" maxlength="16" pattern="^[a-zA-Z0-9]*$" title="Only letters and numbers are allowed." required autofocus>
                            <label for="registerInputPassword" class="sr-only">Password</label>
                            <input type="password" id="registerInputPassword" class="form-control middle-input" name="password" placeholder="Password" minlength="8" maxlength="80" required>
                            <label for="registerInputConfirmPassword" class="sr-only">Repeat Password</label>
                            <input type="password" id="registerInputConfrimPassword" class="form-control last-input" name="password2" placeholder="Repeat Password" minlength="8" maxlength="80" required>
                            <button class="btn btn-lg btn-primary btn-block" type="submit">Sign up</button>
                        </form>
                    </div>
                </div>
                </nav>
                {% if success %}
                    <div class="alert alert-success mt-4" role="alert">
                        <strong>Your account has been created</strong><br>
                        Please log in to continue
                    </div>
                {% endif %}
                {% if registration_error %}
                    <div class="alert alert-danger mt-4" role="alert">
                        <strong> {{ registration_error }} </strong>
                    </div>
                {% endif %}
                {% if login_error %}
                    <div class="alert alert-danger mt-4" role="alert">
                        <strong>Wrong username or password</strong>
                    </div>
                {% endif %}
                {% if logged_out %}
                <div class="alert alert-info mt-4" role="alert">
                    <strong>Logged out successfully</strong>
                </div>
            {% endif %}
            </div>
        </div>
    </div>
</body>

<!-- css transition bugfix for chrome -->
<script>
</script>

</html>